(function(e){e.fn.cleanYouTube=function(t){function a(e){document.location=""}function h(e){parseInt(e);return(e<10?"0":"")+e}function p(){var t=r.getDuration().toFixed();var n=Math.floor(t/60);var i=t%60;e("#videoduration").html(h(n.toFixed().toString())+":"+h(i.toString()));var s=r.getCurrentTime().toFixed();var o=Math.floor(s/60);var u=s%60;e("#videotime").html(h(o.toFixed().toString())+":"+h(u.toString()));var a=r.getCurrentTime();var f=r.getDuration();var l=a/f*100;e("#videoProgress").val(l);var c=e("#videoProgress").width();var p=c*l/100+3;e("#videoProgressFill").width(p)}e.fn.cleanYouTube.defaults={videoid:"c1PbjssaNAg",autoplay:false,loop:false};var n=e.extend({},e.fn.cleanYouTube.defaults,t);var r;var i='<div id="youTubeVideo">'+'<div id="player"></div>'+'<div id="youTubeControls">'+'<a href="#" id="videoPlay"></a>'+'<a href="#" id="videoPause"></a>'+'<span id="videotime">00:00</span>'+'<input id="videoProgress" type="range" value="0" />'+'<div id="videoProgressFill"></div>'+'<span id="videoduration">00:00</span>'+'<a href="#" id="videoMute"></a>'+'<a href="#" id="videoUnmute"></a>'+'<input id="videoVolume" type="range" min="0" max="100" value="100" />'+'<a href="#" id="videoFullscreen"></a>'+"</div>"+"</div>";this.append(i);var s;if(!s){var o=document.createElement("script");o.src="http://www.youtube.com/iframe_api";var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(o,u);s=true}window.onYouTubePlayerAPIReady=function(){r=new YT.Player("player",{height:"740",width:"960",videoId:n.videoid,playerVars:{html5:1,modestbranding:1,autoplay:1,controls:0,rel:0,iv_load_policy:3,wmode:"transparent",hd:1,showinfo:0},events:{onStateChange:c,onError:a}})};var f=false;var l=0;var c=function(i){setInterval(p,250);p();if(i.data===-1){r.mute()}else if(i.data===1){if(l==0){if(n.autoplay==false){r.pauseVideo()}r.unMute();r.seekTo(0);l++}else{e("#videoPlay").hide();e("#videoPause").show()}}else if(i.data===2){e("#videoPause").hide();e("#videoPlay").show()}if(i.data==YT.PlayerState.ENDED){r.unMute();r.seekTo(0);if(n.loop==false){r.stopVideo()}}};(function(){var e={supportsFullScreen:false,isFullScreen:function(){},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},t="webkit moz o ms khtml".split(" ");if(typeof document.cancelFullScreen!="undefined"){e.supportsFullScreen=true}else{for(var n=0,r=t.length;n<r;n++){e.prefix=t[n];if(typeof document[e.prefix+"CancelFullScreen"]!="undefined"){e.supportsFullScreen=true;break}}}if(e.supportsFullScreen){e.fullScreenEventName=e.prefix+"fullscreenchange";e.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}};e.requestFullScreen=function(e){return this.prefix===""?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()};e.cancelFullScreen=function(e){return this.prefix===""?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}}if(typeof jQuery!="undefined"){jQuery.fn.requestFullScreen=function(){return this.each(function(){if(e.supportsFullScreen){e.requestFullScreen(this)}})}}window.fullScreenApi=e})();if(!fullScreenApi.supportsFullScreen){e("#videoFullscreen").remove()}e("#videoFullscreen").click(function(){e("#"+r.a.id).requestFullScreen()});e("#videoPlay").on("click",function(t){r.playVideo();e("#videoPlay").hide();e("#videoPause").show();return false});e("#videoPause").on("click",function(t){r.pauseVideo();e("#videoPause").hide();e("#videoPlay").show();return false});e("#videoMute").on("click",function(t){r.mute();e("#videoMute").hide();e("#videoUnmute").show();return false});e("#videoUnmute").on("click",function(t){r.unMute();e("#videoUnmute").hide();e("#videoMute").show();return false});e("#videoVolume").on("change",function(t){var n=e("#videoVolume").val();r.setVolume(n)});e("#videoProgress").on("mousedown",function(e){r.pauseVideo()});e("#videoProgress").on("mouseup",function(e){r.playVideo()});e("#videoProgress").on("change",function(t){var n=e("#videoProgress").val();var i=r.getDuration();var s=i/(100/n);r.seekTo(s);var o=e("#videoProgress").width();var u=o*n/100;e("#videoProgressFill").width(u)})}})(jQuery)